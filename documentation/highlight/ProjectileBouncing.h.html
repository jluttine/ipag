<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#ifndef</span></span> _PROJECTILEBOUNCING_H_
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> _PROJECTILEBOUNCING_H_

<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"Projectile.h"</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Author: Jaakko Luttinen</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * ProjectileBouncing is a class for projectiles that have bouncing ability.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * They have a parameter to indicate how many jumps they should do before </span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * destruction. They also have an elasticity of collisions.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> ProjectileBouncing  <span style="color: #990000">:</span>  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">virtual</span></span> Projectile
<span style="color: #FF0000">{</span>
    
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span><span style="color: #990000">:</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Number of maximum bounces the projectile can take. We don't want it to</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * jump forever (if lifetime isn't concerned).</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> maximumBounces <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">;</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Constructs a new projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param name           Name of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param description    Description of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param price          Price of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param spriteIndex    Index of the sprite.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param soundIndex     Index of the firing sound.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param explosionIndex Index of the explosion type.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param radius         Radius of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param mass           Mass of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param damage         Maximum damage of the projectile.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param damageRadius   Radius of the damage.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param bounceCount    Number of jumps to take before destruction.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param elasticity     Percentage (0-1) of remaining energy.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="font-weight: bold"><span style="color: #000000">ProjectileBouncing</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> string <span style="color: #990000">&amp;</span>name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> string <span style="color: #990000">&amp;</span>description<span style="color: #990000">,</span>
                        <span style="color: #009900">int</span> price<span style="color: #990000">,</span> <span style="color: #009900">int</span> spriteIndex<span style="color: #990000">,</span> <span style="color: #009900">int</span> soundIndex<span style="color: #990000">,</span>
                        BodyExplosion<span style="color: #990000">:</span><span style="color: #990000">:</span>EType explosionIndex<span style="color: #990000">,</span> <span style="color: #009900">float</span> radius<span style="color: #990000">,</span>
                        <span style="color: #009900">float</span> mass<span style="color: #990000">,</span> <span style="color: #009900">float</span> damage<span style="color: #990000">,</span> <span style="color: #009900">float</span> damageRadius<span style="color: #990000">,</span>
                        <span style="color: #009900">int</span> bounceCount<span style="color: #990000">,</span> <span style="color: #009900">float</span> elasticity <span style="color: #990000">)</span><span style="color: #990000">;</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Constructs a projectile with same properties.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param copy The projectile to use as a copy.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="font-weight: bold"><span style="color: #000000">ProjectileBouncing</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> ProjectileBouncing <span style="color: #990000">&amp;</span>copy <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Returns a dynamic copy. Makes it possible to get a copy without knowing</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * which subclass the object actually represents. Every subclass must</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * overwrite this function.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @return Dynamic copy of itself.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>   
    <span style="font-weight: bold"><span style="color: #0000FF">virtual</span></span> Projectile<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">getCopy</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> 
        <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ProjectileBouncing</span></span><span style="color: #990000">(</span> <span style="color: #990000">*</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span> <span style="color: #990000">)</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Simulates the collision between the capsule and colliding body.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * That is, if jumps are left it will bounce, otherwise it will destruct.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param capsule       The capsule.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param collidingBody The body to collide with.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">virtual</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">collide</span></span><span style="color: #990000">(</span> BodyProjectile <span style="color: #990000">&amp;</span>capsel<span style="color: #990000">,</span> Body <span style="color: #990000">&amp;</span>collidingBody <span style="color: #990000">)</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">protected</span></span><span style="color: #990000">:</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Returns the damage the projectile does to a given distance.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @param distance The distance of the damage.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * @return The damage.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">virtual</span></span> <span style="color: #009900">float</span> <span style="font-weight: bold"><span style="color: #000000">getDamage</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> distance <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="font-weight: bold"><span style="color: #0000FF">private</span></span><span style="color: #990000">:</span>

    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Number of bounces the projectile has done.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="color: #009900">int</span> bouncesDone<span style="color: #990000">;</span>
    
    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Index of the parameter that tells how many bounces the projectile</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * should do.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="color: #009900">int</span> indexBounceCount<span style="color: #990000">;</span>
    
    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     * Index of the parameter that tells the elasticity of the bounces.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     */</span></span>
    <span style="color: #009900">int</span> indexElasticity<span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #000080">#endif</span></span> <span style="font-style: italic"><span style="color: #9A1900">//_PROJECTILEBOUNCING_H_</span></span>
</tt></pre>
