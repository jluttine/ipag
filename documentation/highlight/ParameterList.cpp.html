<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"ParameterList.h"</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Constructs a new parameter list.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">ParameterList</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Constructs a new parameter list from copy.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param copy Parameter list to copy.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">ParameterList</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> ParameterList <span style="color: #990000">&amp;</span>copy <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    Parameter <span style="color: #990000">*</span>newParameter<span style="color: #990000">;</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span> i<span style="color: #990000">+</span><span style="color: #990000">+</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        newParameter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Parameter<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>type <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>type<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>title <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>title<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop<span style="color: #990000">;</span>
        newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep<span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push_back</span></span><span style="color: #990000">(</span> newParameter <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Destructs the parameter list.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="color: #990000">~</span><span style="font-weight: bold"><span style="color: #000000">ParameterList</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span> i<span style="color: #990000">+</span><span style="color: #990000">+</span> <span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #0000FF">delete</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">;</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clear</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tries to set the parameter values using the values of given parameter</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * list. Does NOT add or change any parameters. Just tries to set the</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * values.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param copy Parameter list whose values to use.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">setParameters</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> ParameterList <span style="color: #990000">&amp;</span>copy <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>

    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
          i <span style="color: #990000">&lt;</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> i <span style="color: #990000">&lt;</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
          i<span style="color: #990000">+</span><span style="color: #990000">+</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> copy<span style="color: #990000">.</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep<span style="color: #990000">;</span>
        
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span>
             <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep
                <span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>i<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount<span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
        
    <span style="color: #FF0000">}</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Adds a new parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param type       Type of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param title      Name of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param minValue   Minimum value of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param stepLength Length of a step.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param stepCount  Number of possible steps, zero for unlimited steps.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param loop       Tells whether the value should loop at both ends.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return Index of the new parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">int</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">addParameter</span></span><span style="color: #990000">(</span> EParameterType type<span style="color: #990000">,</span>
                                 <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> std<span style="color: #990000">:</span><span style="color: #990000">:</span>string <span style="color: #990000">&amp;</span>title<span style="color: #990000">,</span> <span style="color: #009900">int</span> minValue<span style="color: #990000">,</span>
                                 <span style="color: #009900">int</span> stepLength<span style="color: #990000">,</span> <span style="color: #009900">int</span> stepCount<span style="color: #990000">,</span> <span style="color: #009900">bool</span> loop <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    Parameter <span style="color: #990000">*</span>newParameter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Parameter<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>type <span style="color: #990000">=</span> type<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>title <span style="color: #990000">=</span> title<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue <span style="color: #990000">=</span> minValue<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength <span style="color: #990000">=</span> stepLength<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">=</span> stepCount<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop <span style="color: #990000">=</span> loop<span style="color: #990000">;</span>
    newParameter<span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">push_back</span></span><span style="color: #990000">(</span> newParameter <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tries to set the parameter value to given value. It will be converted to</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * currentStep value, so invalid step values are converted to closest match.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param index Index of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param value The value.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">setParameterValue</span></span><span style="color: #990000">(</span> <span style="color: #009900">int</span> index<span style="color: #990000">,</span> <span style="color: #009900">int</span> value <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> index <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> index <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> value <span style="color: #990000">&lt;</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span>
              <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> value <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue
                          <span style="color: #990000">+</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength
                          <span style="color: #990000">*</span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">-</span> <span style="color: #993399">1</span> <span style="color: #990000">)</span> <span style="color: #990000">)</span>
    <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span>
            <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
        value <span style="color: #990000">-</span><span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue<span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span>
            <span style="color: #990000">(</span> <span style="color: #009900">int</span> <span style="color: #990000">)</span><span style="color: #990000">(</span> <span style="color: #993399">0.5</span> <span style="color: #990000">+</span> <span style="color: #990000">(</span><span style="color: #009900">double</span><span style="color: #990000">)</span>value <span style="color: #990000">/</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
<span style="color: #FF0000">}</span>


<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Increases the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param index Index of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param steps Steps to increase.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">increaseParameterValue</span></span><span style="color: #990000">(</span> <span style="color: #009900">int</span> index<span style="color: #990000">,</span> <span style="color: #009900">int</span> steps <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> index <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> index <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">+</span><span style="color: #990000">=</span> steps<span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span>
         <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> <span style="color: #990000">!</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">//Check for limits..</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep
             <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount
             <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> <span style="color: #990000">!</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop <span style="color: #990000">)</span>
        <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">=</span>
                <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>loop <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            
            <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">%</span><span style="color: #990000">=</span>
                <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount<span style="color: #990000">;</span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">)</span>
            <span style="color: #FF0000">{</span>
                <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">+</span><span style="color: #990000">=</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepCount<span style="color: #990000">;</span>
            <span style="color: #FF0000">}</span>
            
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Returns the value of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param index Index of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return Value of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">int</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getParameterValue</span></span><span style="color: #990000">(</span> <span style="color: #009900">int</span> index <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> index <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> index <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>minValue
           <span style="color: #990000">+</span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep
               <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>stepLength <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells the parameter text.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param index Index of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param text  String to store the parameter text.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getParameterText</span></span><span style="color: #990000">(</span> <span style="color: #009900">int</span> index<span style="color: #990000">,</span> std<span style="color: #990000">:</span><span style="color: #990000">:</span>string <span style="color: #990000">&amp;</span>text <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> index <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> index <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        text <span style="color: #990000">=</span> <span style="color: #FF0000">"N/A"</span><span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
    <span style="color: #009900">char</span> number<span style="color: #990000">[</span><span style="color: #993399">20</span><span style="color: #990000">]</span><span style="color: #990000">;</span>
    
    <span style="font-style: italic"><span style="color: #9A1900">//The text will be different depending on parameter type.</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>type <span style="color: #990000">=</span><span style="color: #990000">=</span> BOOLEAN <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>currentStep <span style="color: #990000">)</span>
            text <span style="color: #990000">=</span> <span style="color: #FF0000">"ON"</span><span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
            text <span style="color: #990000">=</span> <span style="color: #FF0000">"OFF"</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #000000">sprintf</span></span><span style="color: #990000">(</span> number<span style="color: #990000">,</span> <span style="color: #FF0000">"%d"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getParameterValue</span></span><span style="color: #990000">(</span> index <span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
        text <span style="color: #990000">=</span> number<span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">switch</span></span> <span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>type <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
            <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> ANGLE<span style="color: #990000">:</span>
                text <span style="color: #990000">+</span><span style="color: #990000">=</span> <span style="color: #FF0000">" deg"</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
            <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> TIME<span style="color: #990000">:</span>
                text <span style="color: #990000">+</span><span style="color: #990000">=</span> <span style="color: #FF0000">" ms"</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
                
            <span style="font-weight: bold"><span style="color: #0000FF">default</span></span><span style="color: #990000">:</span>
                <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells the parameter title (=name).</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param index Index of the parameter.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param title String to store the title.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> ParameterList<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getParameterTitle</span></span><span style="color: #990000">(</span> <span style="color: #009900">int</span> index<span style="color: #990000">,</span> std<span style="color: #990000">:</span><span style="color: #990000">:</span>string <span style="color: #990000">&amp;</span>title <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> index <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> index <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        title <span style="color: #990000">=</span> <span style="color: #FF0000">"N/A"</span><span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    
    title <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>parameters<span style="color: #990000">[</span>index<span style="color: #990000">]</span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>title<span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>
</tt></pre>
