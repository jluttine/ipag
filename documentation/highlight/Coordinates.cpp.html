<pre><tt>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;math.h&gt;</span>

<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"Coordinates.h"</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Constructs a new point (x,y) in given coordinate system.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param coordSystem Coordinate system for the point.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param x           X-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param y           Y-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">Coordinates</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> CoordinateSystem <span style="color: #990000">&amp;</span>coordSystem<span style="color: #990000">,</span> <span style="color: #009900">float</span> x<span style="color: #990000">,</span>
                          <span style="color: #009900">float</span> y <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system <span style="color: #990000">=</span> <span style="color: #990000">&amp;</span>coordSystem<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">set</span></span><span style="color: #990000">(</span> x<span style="color: #990000">,</span> y <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Constructs a new point to same coordinate system and same coordinates</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * as coords.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param coords The coordinates to use as a copy.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">Coordinates</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Coordinates <span style="color: #990000">&amp;</span>coords <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system <span style="color: #990000">=</span> coords<span style="color: #990000">.</span>system<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">set</span></span><span style="color: #990000">(</span> coords<span style="color: #990000">.</span>x<span style="color: #990000">,</span> coords<span style="color: #990000">.</span>y <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Sets the coordinates of the point.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param x X-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param y Y-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">set</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> x<span style="color: #990000">,</span> <span style="color: #009900">float</span> y <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>

    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y <span style="color: #990000">=</span> y<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">fix</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Adds the values to coordinates.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param dx Addition to x-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param dy Addition to y-coordinate.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> x<span style="color: #990000">,</span> <span style="color: #009900">float</span> y <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x <span style="color: #990000">+</span><span style="color: #990000">=</span> x<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y <span style="color: #990000">+</span><span style="color: #990000">=</span> y<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">fix</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Returns the shortest distance in x-axis to the given x-coordinate in</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * given direction. If direction &lt; 0, negative direction is used. If</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * direction &gt; 0, positive direction is used. If direction = 0, shortest</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * distance is returned. The sign of the return value tells the direction</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * also.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param x         X-coordinate which the distance is being determined.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param direction Tells which direction to use.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return The distance in the axis. Note that the sign tells the</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *         direction.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">float</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getDistanceX</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> direction <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>
    
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> x<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getCoordinateDistance</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x<span style="color: #990000">,</span> x<span style="color: #990000">,</span>
                                               <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">,</span>
                                               direction <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Returns the shortest distance in y-axis to the given y-coordinate in</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * given direction. If direction &lt; 0, negative direction is used. If</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * direction &gt; 0, positive direction is used. If direction = 0, shortest</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * distance is returned. The sign of the return value tells the direction</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * also.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param y         Y-coordinate which the distance is being determined.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param direction Tells which direction to use.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return The distance in the axis. Note that the sign tells the</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> *         direction.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">float</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getDistanceY</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> y<span style="color: #990000">,</span> <span style="color: #009900">int</span> direction <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>

    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> y<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getCoordinateDistance</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y<span style="color: #990000">,</span> y<span style="color: #990000">,</span>
                                               <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">,</span>
                                               direction <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Returns the shortest distance between the coordinates.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param x X-coordinate of the point.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param y Y-coordinate of the point.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">float</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getDistance</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> x<span style="color: #990000">,</span> <span style="color: #009900">float</span> y <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>
    
    <span style="color: #009900">float</span> distX <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getDistanceX</span></span><span style="color: #990000">(</span> x <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="color: #009900">float</span> distY <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getDistanceY</span></span><span style="color: #990000">(</span> y <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">sqrt</span></span><span style="color: #990000">(</span> distX <span style="color: #990000">*</span> distX <span style="color: #990000">+</span> distY <span style="color: #990000">*</span> distY <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells relative coordinates. It means resulting point will be in the</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * same coordinate system as this and its coordinates are (x+addX,y+addY).</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param result Object to store the resulting coordinates.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param addX   Addition in x-component.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param addY   Addition in y-component.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getRelativeCoordinates</span></span><span style="color: #990000">(</span> Coordinates <span style="color: #990000">&amp;</span>result<span style="color: #990000">,</span> <span style="color: #009900">float</span> addX<span style="color: #990000">,</span>
                                          <span style="color: #009900">float</span> addY <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>
    result<span style="color: #990000">.</span>system <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">;</span>
    result<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x <span style="color: #990000">+</span> addX<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y <span style="color: #990000">+</span> addY <span style="color: #990000">)</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells whether the point is between start and end x-coordinates. The</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * range to positive direction from start to end. If start=end, then it</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * will tell whether the point's x-coordinate is equal to start=end. Note</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * that if start is not equal to end, then the point is either in range</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * start-end or end-start. Or possibly both, because the ending points are</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * included. Note also, that start and end are fixed to range 0 - axis</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * length.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param start The starting point of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param end   The ending point of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">bool</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">isBetweenX</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> start<span style="color: #990000">,</span> <span style="color: #009900">float</span> end <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> start<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> end<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">isBetweenCoordinates</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x<span style="color: #990000">,</span> start<span style="color: #990000">,</span> end <span style="color: #990000">)</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells whether the point is between start and end x-coordinates. The</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * range to positive direction from start to end. If start=end, then it</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * will tell whether the point's x-coordinate is equal to start=end. Note</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * that if start is not equal to end, then the point is either in range</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * start-end or end-start. Or possibly both, because the ending points are</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * included. Note also, that start and end are fixed to range 0 - axis</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * length.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param start The starting point of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param end   The ending point of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">bool</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">isBetweenY</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> start<span style="color: #990000">,</span> <span style="color: #009900">float</span> end <span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span>
<span style="color: #FF0000">{</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> start<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> end<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span> <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">isBetweenCoordinates</span></span><span style="color: #990000">(</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y<span style="color: #990000">,</span> start<span style="color: #990000">,</span> end <span style="color: #990000">)</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Prints the point in format "(x, y)" to os.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param os       Output stream.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param location The coordinates to print.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return The output stream.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
std<span style="color: #990000">:</span><span style="color: #990000">:</span>ostream<span style="color: #990000">&amp;</span> <span style="font-weight: bold"><span style="color: #0000FF">operator</span></span><span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span><span style="color: #990000">(</span> std<span style="color: #990000">:</span><span style="color: #990000">:</span>ostream <span style="color: #990000">&amp;</span>os<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Coordinates <span style="color: #990000">&amp;</span>location <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    os <span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span> <span style="color: #FF0000">"("</span> <span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span> location<span style="color: #990000">.</span>x <span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span> <span style="color: #FF0000">", "</span> <span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span> location<span style="color: #990000">.</span>y <span style="color: #990000">&lt;</span><span style="color: #990000">&lt;</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> os<span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Fixes both coordinates to base range (0 - axis length).</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fix</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>x<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
    Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>y<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">-</span><span style="color: #990000">&gt;</span>system<span style="color: #990000">-</span><span style="color: #990000">&gt;</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Returns the shortest distance to given direction from from-coordinate</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * to to-coordinate in axis, whose length is max. If direction &lt; 0,</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * negative direction is used. If direction &gt; 0, positive direction is</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * used. If direction = 0, shortest direction is returned. The coordinate</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * values must be fixed! Sign of the return value tells direction.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param from The coordinate from which the distance is determined.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param to   The coordinate to which the distance is determined.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param max  The length of the axis.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param direction The direction.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return The distance.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">float</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">getCoordinateDistance</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> from<span style="color: #990000">,</span> <span style="color: #009900">float</span> to<span style="color: #990000">,</span> <span style="color: #009900">int</span> max<span style="color: #990000">,</span>
                                          <span style="color: #009900">int</span> direction <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>

    <span style="color: #009900">float</span> dist1 <span style="color: #990000">=</span> to <span style="color: #990000">-</span> from<span style="color: #990000">;</span>
    <span style="color: #009900">float</span> dist2 <span style="color: #990000">=</span> dist1 <span style="color: #990000">+</span> <span style="color: #990000">(</span> dist1 <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">?</span> max <span style="color: #990000">:</span> <span style="color: #990000">-</span>max <span style="color: #990000">)</span><span style="color: #990000">;</span>
        
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> direction <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> dist1 <span style="color: #990000">/</span> direction <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> <span style="color: #993399">0</span> <span style="color: #990000">)</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> dist1<span style="color: #990000">;</span>
            
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> dist2<span style="color: #990000">;</span>
        
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
            
        <span style="font-style: italic"><span style="color: #9A1900">//Return the one with smaller absolute value.</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> <span style="color: #990000">(</span> dist1 <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">?</span> <span style="color: #990000">-</span>dist1 <span style="color: #990000">:</span> dist1 <span style="color: #990000">)</span> <span style="color: #990000">&lt;</span> <span style="color: #990000">(</span> dist2 <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">?</span> <span style="color: #990000">-</span>dist2 <span style="color: #990000">:</span> dist2 <span style="color: #990000">)</span> <span style="color: #990000">)</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> dist1<span style="color: #990000">;</span>
            
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> dist2<span style="color: #990000">;</span>

    <span style="color: #FF0000">}</span>
        
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Tells whether the coord-coordinate is between start and end</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * coordinates. Ending points are included. If start=end, tells whether</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * coord=start=end. Range is to positive direction from start to end. All</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * coordinate values must be fixed!</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param coord The coordinate to check.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param start The starting coordinate of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param end   The ending coordinate of the range.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @return True if coord is between start and end, false otherwise.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">bool</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">isBetweenCoordinates</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> coord<span style="color: #990000">,</span> <span style="color: #009900">float</span> start<span style="color: #990000">,</span>
                                        <span style="color: #009900">float</span> end <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> start <span style="color: #990000">=</span><span style="color: #990000">=</span> end <span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> coord <span style="color: #990000">=</span><span style="color: #990000">=</span> start<span style="color: #990000">;</span>
        
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> start <span style="color: #990000">&lt;</span> end <span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span> coord <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> start <span style="color: #990000">)</span> <span style="color: #990000">&amp;</span><span style="color: #990000">&amp;</span> <span style="color: #990000">(</span> coord <span style="color: #990000">&lt;</span><span style="color: #990000">=</span> end <span style="color: #990000">)</span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span> coord <span style="color: #990000">&gt;</span><span style="color: #990000">=</span> start <span style="color: #990000">)</span> <span style="color: #990000">|</span><span style="color: #990000">|</span> <span style="color: #990000">(</span> coord <span style="color: #990000">&lt;</span><span style="color: #990000">=</span> end <span style="color: #990000">)</span><span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Fixes the coord to range 0-max. For example, if coord=-1, coord will be</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * fixed to coord=max-1. That is, coord=coord+n*max, where n is an integer</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * so that coord will be in the range 0-max.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param coord The coordinate to fix.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * @param max   The length of the axis.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #009900">void</span> Coordinates<span style="color: #990000">:</span><span style="color: #990000">:</span><span style="font-weight: bold"><span style="color: #000000">fixCoordinate</span></span><span style="color: #990000">(</span> <span style="color: #009900">float</span> <span style="color: #990000">&amp;</span>coord<span style="color: #990000">,</span> <span style="color: #009900">int</span> max <span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
    
    <span style="color: #009900">int</span> div <span style="color: #990000">=</span> <span style="color: #990000">(</span> <span style="color: #009900">int</span> <span style="color: #990000">)</span><span style="color: #990000">(</span> coord <span style="color: #990000">/</span> max <span style="color: #990000">)</span><span style="color: #990000">;</span>
    coord <span style="color: #990000">-</span><span style="color: #990000">=</span> div <span style="color: #990000">*</span> max<span style="color: #990000">;</span>
    
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span> coord <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">)</span>
        coord <span style="color: #990000">+</span><span style="color: #990000">=</span> max<span style="color: #990000">;</span>
    
<span style="color: #FF0000">}</span>
</tt></pre>
